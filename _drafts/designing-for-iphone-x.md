---
layout: post
title: עיצוב לאייפון x
---
האייפון X יוצא ממש עוד מעט, ואיתו אפל בחרה לעשות למפתחי האתרים כאב ראש. לראשונה קצוות המסך מעוגלים ובראש המכשיר, בין שני חלקי המסך, הוצבו הרשמקול, המצלמה וחיישנים.
הדבר גורם לכך שתוכן עלול להיות מוסתר על ידי הקצוות והחיישנים, ולכן אפל בחרה להציג כברירת מחדל את תוכן האתר בין האיזורים הבטוחים (safe areas) של המכשיר, בצורה הבאה:

החלק מחוץ לאזורים הבטוחים ימולאו ברקע שהוגדר על אלמנט ה- `html` או ה- `body` והתוכן ימורכז בין שני אזורים אלו. זה עלול להתאים לחלק מהאתרים (כמו הדף שאתם קוראים בו עכשיו, בו צבע הרקע לאורך כל העמוד אחיד) אבל כמו שניתן לראות בדוגמה למעלה, הדבר עלול לגרום ל_____(איך לקרוא לגועל הזה??)

## מתלבשים על כל המסך

אם נרצה לבטל את התנהגות זו ולהציג את התוכן על פני כל המסך, נוכל להשתמש בהרחבה חדשה לתגית ה- `viewport` הנקראת `viewport-fit`, המאפשרת לשלוט על איך תוכן האתר יוצג במקרים במקרים בהם גבולות המכשיר לא מרובעים.
ערך ברירת המחדל ל- `viewport-fit` הוא `auto`, שכפי שציינו מקודם משאיר את התוכן באזורים הבטוחים של המכשיר.
אם נרצה להציג את תוכן הדף על פני כל מסך המכשיר, נוכל לשנות את הערך ל- `cover`, ונקבל את התוצאה הבאה:

כמו שניתן לראות, שורת הניווט והבר התחתון אמנם נראים נהדר כרגע, אך התוכן שלנו מוסתר על ידי הרמקול.
נוסף על כך, בבר התחתון נמצאים לחצן הגישה למסך הבית (הקו המעוגל) ולינק יצירת הקשר באותו המקום, דבר ההופך את שתי הפונקציות לקשות לשימוש.

## זהירות מוקשים

על מנת לפתור את הבעיות הללו נוצרו 4 משתנים, שניתן לגשת אליהן דרך ה- CSS בעזרת פונקציית constant. המשתנים הם:

- `safe-area-inset-left`
- `safe-area-inset-right`
- `safe-area-inset-top`
- `safe-area-inset-bottom`

בעזרתם נוכל להוסיף `padding` / `margin` לתוכן שלנו על מנת להגיע לאיזורים הבטוחים של המכשיר.

-- קטע css בו מוצג השימוש --

הידד! כעת אנחנו מציגים את תוכן האתר בצורה ברורה, ה- footer נגיש ואין בעיה לגשת למסך הבית.

כותרת על min ו max

אך מה יקרה אם נחזיק את המכשיר בצורה אנכית?



כפי שניתן לראות, אין יותר מרווח בין קצוות המסך לתוכן. הסיבה היא שהגדרנו מחדש את ה- `padding` של אלמנט התוכן עם ה- constant. הערך של constant הוא דינאמי לפי המצב בו המחזיק מוחזק, ולכן כשעברנו למצב אנכי הערך של safe-area-inset-right עבר להיות 0.

ניתן לפתור את הבעיה הזו בעזרת 2 פונקציות חדשות ב- CSS: max ו- min.
הפונקציות לוקחות 2 משתנים ומחזירות את הערך הגדול / הקטן מבין שניהם.

iOS 11 נכון לכתיבת שורות אלו לא תומכת בפונקציות הנ״ל (ככל הנראה עדכון התומך בפונקציות ישוחרר לפני שחרור האייפון X). ניתן להתנסות איתן בעזרת גרסת המפתחים של Safari.

-- קטע קוד --

חשוב לבדוק לבדוק לפני השימוש בפונקציות אם הן נתמכות ע״י הדפדפן, משום שאם הדפדפן לא תומך בהן הדפדפן לא ישתמש בערך שהוגדר קודם לכן ל- padding, אלא יחזור לערך ברירת המחדל של padding.

כעת, כשנחזיק את המכשיר במצב אופקי………….
